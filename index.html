<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>test shaker</title>

<!-- zimjs.com - JavaScript Canvas Framework -->
<script type=module>

import zim from "https://zimjs.org/cdn/016/zim_physics";

// See Docs under Frame for FIT, FILL, FULL, and TAG
const assets = ["rock.png"];
const path = "assets/";
new Frame(FIT, 430, 932, dark, darker, ready, assets, path);
function ready() {
    
    // given F (Frame), S (Stage), W (width), H (height)
    // put code here

        const physics = new Physics();

        // 监听长按事件
        let longPressTimer;
        S.on("mousedown", function(e) {
            zog("mouse down");
            longPressTimer = setTimeout(() => {
                createRock(e.stageX, e.stageY);
            }, 500); // 500毫秒长按阈值
        });

        S.on("mouseup", function() {
            zog("mouse up");
            clearTimeout(longPressTimer); // 取消长按定时器
        });

        function createRock(x, y) {
            const rock = new Pic("rock.png", path).sca(.4).centerReg();
            rock.x = x;
            rock.y = y;
            rock.addPhysics({
                bounciness: .5,
                linear: 1 // damping as it moving
            });
            S.update();
        }

        // const rock = new Pic("rock.png").sca(.4).centerReg();
        // rock.addPhysics({
        //     bounciness:.5,
        //     linear:1 // damping as it moving
        // });


    // });
        
} // end ready

</script>
<meta name="viewport" content="width=device-width, user-scalable=no" />
</head>
<body></body>
</html>